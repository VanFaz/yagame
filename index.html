<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ö–ª–∏–∫–µ—Ä Italian brainrot</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container" id="gameContainer">
    <h1 id="charName">Tralalero</h1>
    <img id="charImage" src="/imgs/0_tralalero.png" alt="–ü–µ—Ä—Å–æ–Ω–∞–∂" class="character" />
    <p>–ö–ª–∏–∫–∏: <span id="clicks">0</span></p>
    <button id="clickBtn">–ö–ª–∏–∫!</button>
    <p>–¶–µ–Ω–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞: <span id="nextCost">50</span></p>
    <button id="nextBtn">–°–ª–µ–¥—É—é—â–∏–π –ø–µ—Ä—Å–æ–Ω–∞–∂</button>
    <p>–£–ª—É—á—à–µ–Ω–∏–µ –∫–ª–∏–∫–æ–≤: <span id="upgradeCost">100</span></p>
    <button id="upgradeBtn">–£–ª—É—á—à–∏—Ç—å –∫–ª–∏–∫</button>
    <p>–ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä: <span id="autoclickCost">500</span></p>
    <button id="autoclickBtn">–ö—É–ø–∏—Ç—å –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä</button>
  </div>

  <script>
    const characters = [
      { name: "–§—Ä–∏–≥–æ –∫–∞–º–µ–ª–ª–æ", image: "/imgs/0_frigo camello.jpeg", sound: "/sounds/0_frigo camello.mp3" },
      { name: "–ë–æ–Ω–µ–∫–∞ –∞–º–±–∞–ª–∞–±—É", image: "/imgs/1_Boneca ambalabu.jpeg", sound: "/sounds/1_Boneca ambalabu.mp3" },
      { name: "–ö–∞–ø–∏–±–∞—Ä–µ–ª–ª–æ –∫–æ–∫–æ—Å—Å–∏–Ω–∏", image: "/imgs/2_Capibarello cocossini.jpeg", sound: "/sounds/2_Capibarello cocossini.mp3" },
      { name: "–¢—Ä–∏–ø–ø–∏ —Ç—Ä–æ–ø–ø–∏", image: "/imgs/3_trippi troppi.jpeg", sound: "/sounds/3_trippi troppi3" },
      { name: "–ë–æ–º–±–∞—Ä–¥–∏—Ä–æ –∫—Ä–æ–∫–æ–¥–∏–ª–æ", image: "/imgs/4_Bombardiro Crocodilo.jpeg", sound: "/sounds/4_Bombardiro Crocodilo.mp3" },
      { name: "–õ–∏—Ä–∏–ª–∏ –ª–∞—Ä–∏–ª–∞", image: "/imgs/5_Lirililarila.webp", sound: "/sounds/5_Lirililarila.mp3" },
      { name: "–¢—É–Ω–≥ –¢—É–Ω–≥ –¢—É–Ω–≥ –°–∞—Ö—É—Ä", image: "/imgs/6_Tung Tung Tung Sahur.webp", sound: "/sounds/6_Tung Tung Tung Sahur.mp3" },
      { name: "–ë–∞–ª–ª–µ—Ä–∏–Ω–∞ –∫–∞–ø–ø—É—á–∏–Ω–∞", image: "/imgs/7_ballerina cappuchina.jpeg", sound: "/sounds/7_ballerina cappuchina.mp3" },
      { name: "–¢—Ä–∞–ª–∞–ª–µ—Ä–æ –¢—Ä–∞–ª–∞–ª–∞", image: "/imgs/8_Trallalero Trallala.jpeg", sound: "/sounds/8_Trallalero Trallala.mp3" },
      { name: "–ë–æ–±–µ—Ä–∏—Ç–æ –ë–æ–Ω–¥–∏—Ç–æ", image: "/imgs/9_Boberito bondito.webp", sound: "/sounds/9_Boberito bondito.mp3" }
    ];

    let clicks = 0;
    let clickPower = 1;
    let upgradeCost = 100;
    let autoclickCost = 500;
    let currentCharacter = 0;
    let nextCharacterCost = 50;
    let hasAutoclick = false;

    const clickSpan = document.getElementById("clicks");
    const charImage = document.getElementById("charImage");
    const charName = document.getElementById("charName");
    const nextCost = document.getElementById("nextCost");
    const upgradeDisplay = document.getElementById("upgradeCost");
    const autoclickDisplay = document.getElementById("autoclickCost");
    const gameContainer = document.getElementById("gameContainer");

    function updateUI() {
      clickSpan.textContent = clicks;
      charImage.src = characters[currentCharacter].image;
      charName.textContent = characters[currentCharacter].name;
      nextCost.textContent = currentCharacter < characters.length - 1 ? nextCharacterCost : "-";
      upgradeDisplay.textContent = upgradeCost;
      autoclickDisplay.textContent = autoclickCost;
    }

    function saveProgress() {
      localStorage.setItem("clicker_save", JSON.stringify({
        clicks,
        clickPower,
        upgradeCost,
        autoclickCost,
        currentCharacter,
        nextCharacterCost,
        hasAutoclick
      }));
    }

    function loadProgress() {
      const data = JSON.parse(localStorage.getItem("clicker_save"));
      if (data) {
        ({ clicks, clickPower, upgradeCost, autoclickCost, currentCharacter, nextCharacterCost, hasAutoclick } = data);
        if (hasAutoclick) startAutoclick();
        updateUI();
      }
    }

    function playSound(index) {
      const audio = new Audio(characters[index].sound);
      audio.play();
    }

    function checkEndGame() {
      if (currentCharacter === characters.length - 1) {
        const lastCharClicks = 1000;
        if (clicks >= lastCharClicks) {
          const winSound = new Audio("/sounds/sound_win.mp3");
          winSound.play();
          gameContainer.innerHTML = `
            <h1>üéâ –ü–æ–±–µ–¥–∞! üéâ</h1>
            <p>–¢—ã –ø—Ä–æ—à—ë–ª –ø—É—Ç—å –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏—Ö –º–µ–º–æ–≤ —Ç–µ–ø–µ—Ä—å —Ç—ã –ª–µ–≥–µ–Ω–¥–∞!</p>
            <p>–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É üòÑ</p>
          `;
        }
      }
    }

    document.getElementById("clickBtn").onclick = () => {
      clicks += clickPower;
      updateUI();
      saveProgress();
      checkEndGame();
    };

    document.getElementById("nextBtn").onclick = () => {
      if (clicks >= nextCharacterCost && currentCharacter < characters.length - 1) {
        clicks -= nextCharacterCost;
        currentCharacter++;
        nextCharacterCost = Math.floor(nextCharacterCost * 2);
        updateUI();
        saveProgress();
        playSound(currentCharacter);
      }
    };

    document.getElementById("upgradeBtn").onclick = () => {
      if (clicks >= upgradeCost) {
        clicks -= upgradeCost;
        clickPower *= 2;
        upgradeCost = Math.floor(upgradeCost * 2);
        updateUI();
        saveProgress();
      }
    };

    document.getElementById("autoclickBtn").onclick = () => {
      if (!hasAutoclick && clicks >= autoclickCost) {
        clicks -= autoclickCost;
        hasAutoclick = true;
        updateUI();
        saveProgress();
        startAutoclick();
      }
    };

    function startAutoclick() {
      setInterval(() => {
        clicks += clickPower;
        updateUI();
        saveProgress();
        checkEndGame();
      }, 1000);
    }

    loadProgress();
  </script>
</body>
</html>
